<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Grade Options</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        body {
            background-image: url('/login_38.gif');
            background-repeat: repeat-y;       /* Repeat vertically */
            background-position: left top;     /* Align to the left */
            background-attachment: fixed;      /* So it doesn't scroll */
            background-color: white;           /* Optional */
        }

        /* Add a right-side image by using a pseudo-element */
        body::after {
            content: "";
            position: fixed;
            top: 0;
            right: 0;
            width: 20px; /* match the width of your gif */
            height: 100%;
            background-image: url('/login_38.gif');
            background-repeat: repeat-y;
            background-position: right top;
            background-attachment: fixed;
            z-index: -1;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        .top-bar {
            background-color: #003366;
            padding: 10px;
            color: white;
        }

        .nav-bar {
            background-color: #6699cc;
        }

        .nav-bar td {
            text-align: center;
            font-weight: bold;
            border-right: 1px solid #003366;
        }

        .nav-bar a {
            display: block;
            color:  #336699;
            padding: 8px 0;
            text-decoration: none;
        }

        .nav-bar a:hover {
            background-color: #336699;
        }
        .nav-bar .dropdown-toggle {
            width: 100%;
            border-radius: 0;
        }

        .sidemenu {
            background-image: url('login_38.gif');
            background-repeat: repeat-y;
            width: 15px;
        }

        .content {
            padding: 30px;
            text-align: center;
        }

        .footer {
            font-size: 12px;
            color: #333;
            text-align: center;
            padding: 10px;
            border-top: 1px solid #6699cc;
        }
        /* Style the dropdown menu to resemble the eCampus look */
        .dropdown-menu {
            display: none;
            position: absolute;
            background-color: #fff;
            border: 2px solid black;
            border-top: none;
            min-width: 200px;
            z-index: 1000;
            padding: 0;
        }

        /* Show the dropdown on hover of parent */
        .dropdown:hover .dropdown-menu {
            display: block;
        }

        /* Style each dropdown item */
        .dropdown-menu li a {
            display: block;
            padding: 10px 16px;
            color: #0056b3; /* DAIICT blue */
            text-decoration: none;
            font-weight: bold;
            border-bottom: 1px solid black;
            background-color: #fff;
        }

        /* Last item: no border */
        .dropdown-menu li:last-child a {
            border-bottom: none;
        }

        /* Hover effect for dropdown items */
        .dropdown-menu li a:hover {
            background-color: #e6f0ff;
            color: black;
        }

        /* Style for multi-select */
        select[multiple] {
            width: 300px;
            height: 150px;
        }
    </style>
</head>
<body>

<table>
    <tr>
        <td colspan="3" class="top-bar">
            <a href="/" style="text-decoration: none; color: inherit;">
                <span style="font-size: 24px; font-weight: bold; cursor: pointer;">DA-IICT</span>
            </a>
            <span style="font-size: 16px;">&nbsp;Dhirubhai Ambani Institute of Information & Communication Technology</span>
        </td>
    </tr>

    <tr class="nav-bar">
        <td colspan="3">
            <table width="100%">
                <tr>
                    <td>
                        <div class="dropdown">
                            <button class="btn btn-notification dropdown-toggle w-100" style="color:white;font-weight:bold;" type="button" data-bs-toggle="dropdown">
                                Transaction
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="/directGradeEntry">Direct Grade Entry</a></li>
                                <li><a class="dropdown-item" href="#">Course Feedback</a></li>
                                <li><a class="dropdown-item" href="#">Modify Grade</a></li>
                                <li><a class="dropdown-item" href="#">Revise I Grade</a></li>
                                <li><a class="dropdown-item" href="#">Allocate TA</a></li>
                                <li><a class="dropdown-item" href="#">Approval Status</a></li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <div class="dropdown">
                            <button class="btn btn-notification dropdown-toggle w-100" style="color:white;font-weight:bold;" type="button" data-bs-toggle="dropdown">
                                Reports (Your Course)
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">Marks</a></li>
                                <li><a class="dropdown-item" href="#">Results</a></li>
                                <li><a class="dropdown-item" href="#">Course Evaluation</a></li>
                                <li><a class="dropdown-item" href="#">Attendance Report</a></li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <div class="dropdown">
                            <button class="btn btn-notification dropdown-toggle w-100" style="color:white;font-weight:bold;" type="button" data-bs-toggle="dropdown">
                                Reports (All Courses)
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="/student-search">Student Info</a></li>
                                <li><a class="dropdown-item" href="#">Course</a></li>
                                <li><a class="dropdown-item" href="#">Registrations</a></li>
                                <li><a class="dropdown-item" href="#">Attendance</a></li>
                                <li><a class="dropdown-item" href="#">Result</a></li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <div class="dropdown">
                            <button class="btn btn-notification dropdown-toggle w-70" style="color:white;" type="button" data-bs-toggle="dropdown">
                                Help
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">About Application</a></li>
                                <li><a class="dropdown-item" href="#">Workflow of SEGS</a></li>
                                <li><a class="dropdown-item" href="#">Contact US</a></li>
                            </ul>
                        </div>
                    </td>
                    <td>
                    <a class="btn btn-danger w-100" style="color:white;font-weight:bold;" href="/logout">
                        Logout
                    </a>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<!-- Main Content Area -->
<div class="content container">

    <h2>Grade Options</h2>
    <div style="margin-left:400px;">
    <form th:action="@{/directGradeEntry/gradeOptions}" method="get" class="mb-4">
        <input type="hidden" name="CRSID" th:value="${CRSID}"/>
        <input type="hidden" name="examTypeId" th:value="${examTypeId}"/>

        <label for="grades" class="form-label" style="margin-right:400px;">Select Grades:</label><br/>
        <select id="grades" name="selectedGrades" multiple class="form-select" style="width: 300px; height: 150px;">
            <option th:each="grade : ${grades}"
                    th:value="${grade.gradeValue}"
                    th:text="${grade.gradeValue}"
                    th:selected="${selectedGrades != null} ? ${selectedGrades.contains(grade.gradeValue)} : false">
            </option>
        </select><br/><br/>
    

        <button type="submit" class="btn btn-primary" style="margin-right:400px;">Show Selected Grades</button>
        <button type="button" class="btn btn-secondary" style="margin-right:400px;margin-top:40px;" onclick="selectAllGrades()">Show All Grades</button>
    </form>
    </div>
    <table class="table table-bordered table-striped">
        <thead class="table-primary">
        <tr>
            <th>Sr No</th>
            <th>Student Id</th>
            <th>Name</th>
            <th>Email</th>
            <th>Grade</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="student, iterStat : ${studentGrades}">
            <td th:text="${iterStat.count}"></td>
            <td th:text="${student.studentId}"></td>
            <td th:text="${student.studentName}"></td>
            <td th:text="${student.studentEmail}"></td>
            <td th:text="${student.grade}"></td>
        </tr>
        </tbody>
    </table>

</div>

<script>
    function selectAllGrades() {
        const select = document.getElementById('grades');
        for(let i=0; i < select.options.length; i++) {
            select.options[i].selected = true;
        }
        select.form.submit();
    }
</script>

</body>
</html>
